(this.webpackJsonpchord_react=this.webpackJsonpchord_react||[]).push([[0],{209:function(e,t,a){var n=a(195),r=["workerGetSubstitutions"];e.exports=function(){var e=new Worker(a.p+"4441d3e80115f18a8c4a.worker.js",{name:"[hash].worker.js"});return n(e,r),e}},210:function(e,t,a){var n=a(195),r=["workerGetVoicings"];e.exports=function(){var e=new Worker(a.p+"d3cab6aba4bd8066688f.worker.js",{name:"[hash].worker.js"});return n(e,r),e}},219:function(e,t,a){e.exports=a(391)},390:function(e,t,a){},391:function(e,t,a){"use strict";a.r(t);var n=a(7),r=a(27),i=a.n(r),o=a(41);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(6),u=a(4),s=(a(56),a(30)),l=a(0),m=a.n(l),b=a(1),f=a.n(b),h=function(e){var t=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/t},d=a(22);function y(){var e=Object(s.a)(["\n  width: 0;\n  height: 0;\n  border-left: 1rem solid transparent;\n  border-right: 1rem solid transparent;\n  border-bottom: 1rem solid #eee;\n"]);return y=function(){return e},e}function p(){var e=Object(s.a)(["\n  width: 100%;\n  height: 100%;\n  margin-bottom: 1rem;\n  cursor: pointer;\n"]);return p=function(){return e},e}function v(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n"]);return v=function(){return e},e}var j=d.a.div(v()),O=d.a.canvas(p()),g=(d.a.div(y()),function(e){e.frets;var t=e.tuning,a=e.fretHeight,n=e.fretWidth,r=e.chord,i=(e.selected,e.onClick),o=(e.sharps,Object(l.useRef)());return Object(l.useEffect)((function(){var e=f.a.chain(r.notes).map((function(e){var t=Object(u.a)(e,2);t[0];return t[1]})).min().value()||0,i=f.a.chain(r.notes).map((function(e){var t=Object(u.a)(e,2);t[0];return t[1]})).max().value()||0,c=Math.max(i-e+2,5),s=a*(3/8),l=n*(3/8),m=o.current,b=m.getContext("2d"),d=h(b),y=l/d*(f.a.size(t)+1),p=s/d*(c+1);m.width=y*d,m.height=p*d,m.style.width="".concat(y,"px"),m.style.height="".concat(p,"px"),b.font="28px -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif",b.lineWidth=2,b.lineCap="square",b.strokeStyle="#666",b.fillStyle="#666";for(var v=p*d/2-s*(c+1)/2,j=y*d/2-l*(f.a.size(t)-2)/2,O=1;O<c+1;O++)b.beginPath(),b.moveTo(j,v+O*s),b.lineTo(j+l*(f.a.size(t)-1),v+O*s),b.stroke();b.beginPath();for(var g=0;g<f.a.size(t);g++)b.moveTo(j+g*l,v+s),b.lineTo(j+g*l,v+s*c);b.stroke(),b.fillStyle="#666",b.strokeStyle="#666",b.lineWidth=2;for(var S=f.a.chain(r.notes).reduce((function(e,t){return e[t]=!0,e}),{}).value(),w=0;w<c;w++)for(var k=0;k<f.a.size(t);k++)0===e?S[[k,w]]&&(b.beginPath(),b.arc(j+k*l,v+w*s+s/2,l/2-b.lineWidth,0,2*Math.PI),0===w&&0===e?b.stroke():b.fill()):S[[k,w+e-1]]&&(b.beginPath(),b.arc(j+k*l,v+w*s+s/2,l/2-b.lineWidth,0,2*Math.PI),0===w&&0===e?b.stroke():b.fill());b.font="".concat(l,"px -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif"),b.textAlign="right",b.textBaseline="bottom",b.fillStyle="#aaa",b.fillText("".concat(r.root||"").concat(f.a.get(r,"quality.name","...")),y*d-l/2,p*d),b.font="".concat(l,"px -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif"),b.textAlign="left",b.textBaseline="middle",b.fillStyle="#aaa",b.fillText("".concat(e||""),0,v+1.5*s)})),m.a.createElement(j,null,m.a.createElement(O,{ref:o,onClick:i}))});a(401),a(55),a(399),a(400),a(224);f.a.chain(f.a.range(3,13)).flatMap((function(e){return f.a.combinations(["1","3","5","7","9","11","13"],e)})).size().value();var S=function(e){switch(e){case"1":return 0;case"b2":case"b9":return 1;case"2":case"9":return 2;case"b3":case"#9":return 3;case"3":return 4;case"4":case"11":return 5;case"#4":case"#11":case"b5":return 6;case"5":return 7;case"#5":case"b6":case"b13":return 8;case"6":case"bb7":case"13":return 9;case"b7":return 10;case"7":return 11;default:console.warn('Unrecognized degree "'.concat(e,'".'))}},w=(f.a.chain([["maj","1 3 5"],["6","1 3 (5) 6"],["maj/9","1 3 (5) 9"],["6/9","(1) 3 (5) 6 9"],["sus4","1 4 5"],["sus2","1 2 5"],["maj7","(1) 3 (5) 7"],["maj9","(1) 3 (5) 7 9"],["maj11","(1) (3) (5) 7 (9) 11"],["maj13","(1) 3 (5) 7 (9) (11) 13"],["maj7/6","(1) 3 (5) 6 7"],["maj7#5","(1) 3 #5 7"],["maj9#5","(1) 3 #5 7 9"],["/#11","1 3 (5) #11"],["maj7/#11","(1) 3 (5) 7 #11"],["maj7#9#11","(1) 3 (5) 7 #9 #11"],["maj9#11","(1) 3 (5) 7 9 #11"],["maj13#11","(1) 3 (5) 7 9 #11 13"],["sus2/#11","(1) 2 5 #11"],["/9#11","(1) 3 (5) 9 #11"],["maj7/6#11","(1) 3 (5) 6 7 #11"],["6/9#11","(1) 3 (5) 6 9 #11"],["6/b9#11","(1) 3 (5) 6 b9 #11"],["maj7/6#9b5","(1) 3 b5 6 7 #9"],["6/#11","(1) 3 (5) 6 #11"],["m","1 b3 5"],["m/9","(1) b3 (5) 9"],["mM7","(1) b3 (5) 7"],["mM9","(1) b3 (5) 7 9"],["m7","(1) b3 (5) b7"],["m7b5","(1) b3 b5 b7"],["m7/11","(1) b3 (5) b7 11"],["m9","(1) b3 (5) b7 9"],["m11","(1) b3 (5) b7 9 11"],["m6","(1) b3 5 6"],["m6/9","(1) b3 (5) 6 9"],["m13","(1) b3 (5) b7 9 (11) 13"],["m7/6/11","(1) b3 (5) 6 b7 11"],["m7/6","(1) b3 (5) 6 b7"],["mM7/6/9","(1) b3 (5) 6 7 9"],["m13/#11","(1) b3 (5) b7 9 #11 13"],["m6/9/11","(1) b3 (5) 6 b7 9 11"],["m6/9/#11","(1) b3 (5) 6 9 #11"],["mM7/6","(1) b3 (5) 6 7"],["mM7/9/11","(1) b3 (5) 7 9 11"],["mM7/11","(1) b3 (5) 7 11"],["m7b9","(1) b3 (5) b7 b9"],["m6/11","(1) b3 (5) 6 11"],["7","(1) 3 (5) b7"],["7b9","(1) 3 (5) b7 b9"],["dim7","(1) b3 b5 6"],["7#9","(1) 3 (5) b7 #9"],["7#9#5","(1) 3 #5 b7 #9"],["m7#5","(1) b3 #5 b7"],["7b5","(1) 3 b5 b7"],["7/6","(1) 3 (5) 6 b7"],["7/6/11","(1) 3 (5) 6 b7 11"],["9","(1) 3 (5) b7 9"],["13","(1) 3 (5) b7 (9) (11) 13"],["7sus","1 4 (5) b7"],["7/6sus","(1) 4 (5) 6 b7"],["7/11","(1) 3 (5) b5 11"],["13b9","(1) 3 (5) b7 b9 (11) 13"],["11","(1) (3) (5) b7 (9) 11"],["13sus","(1) 4 (5) b7 9 (11) 13"],["7b9#5","(1) 3 #5 b7 b9"],["7#5","(1) 3 #5 b7"],["7b9b5","(1) 3 b5 b7 b9"],["7b9#11","(1) 3 (5) b7 b9 #11"],["7#9b5","(1) 3 b5 b7 #9"],["13#9","(1) 3 (5) b7 #9 (11) 13"],["13#11","(1) 3 (5) b7 9 #11 13"],["11b9","(1) 3 (5) b7 b9 11"],["11b9#5","(1) 3 #5 b7 b9 11"],["11#5","(1) 3 #5 b7 9 11"],["6#9","(1) 3 (5) 6 b7 #9"],["9b5","(1) 3 b5 b7 9"],["9#5","(1) 3 #5 b7 9"],["9#5b5","(1) 3 #5 b5 b7 9"],["#11","(1) 3 (5) b7 9 #11"],["aug","1 3 #5"],["7/#11","(1) 3 (5) b7 #11"],["dim","1 b3 b5"]]).flatMap((function(e){var t=Object(u.a)(e,2),a=t[0],n=t[1],r=f.a.chain(n).split(/\s+/).map((function(e){return f.a.trim(e,"()")})).value(),i=f.a.chain(n).split(/\s+/).filter((function(e){return f.a.startsWith(e,"(")})).map((function(e){return f.a.trim(e,"()")})).value();return f.a.chain(f.a.range(f.a.size(i)+1)).flatMap((function(e){return f.a.combinations(i,e)})).map((function(e){var t=f.a.chain(e).map((function(e){return"no ".concat(f.a.replace(e,/#|b/,""))})).join(" ").value(),n=f.a.without.apply(f.a,[r].concat(Object(c.a)(e))),i=f.a.join(n," "),o=f.a.trim("".concat(a," ").concat(t)),u=function(e){return f.a.chain(e).map(S).thru((function(e){return f.a.size(e)!==f.a.chain(e).uniq().size().value()?void 0:e})).value()}(n),s=f.a.find(r,(function(e){return"3"===e})),l=f.a.find(r,(function(e){return"b3"===e})),m=f.a.find(r,(function(e){return"7"===e})),b=f.a.find(r,(function(e){return"b7"===e})),h=s&&m?"major":s&&b?"dominant":l?"minor":void 0,d={alterations:f.a.filter(r,(function(e){return(e.includes("#")||e.includes("b"))&&!f.a.includes(["b3","b7"],e)})),name:o,degrees:n,formula:i,parent:r,missing:e,quality:u,family:h};return d.value=JSON.stringify(d),d})).value()})).reject((function(e){var t=e.degrees;return f.a.size(t)<3})).reject((function(e){var t=e.degrees;return f.a.size(t)>6})).tap(console.log).tap((function(e){return console.log("Generated ".concat(f.a.size(e)," chord qualities. *whew*"))})).value(),f.a.fromPairs([["C",0],["C#",1],["Db",1],["D",2],["D#",3],["Eb",3],["E",4],["F",5],["F#",6],["Gb",6],["G",7],["G#",8],["Ab",8],["A",9],["A#",10],["Bb",10],["B",11]])),k=[{id:"Chord Chemistry 11.I",description:m.a.createElement("span",null,m.a.createElement("blockquote",null,"For basic major, minor, or dominant 7th chords, any extension may theoretically be substituted.",m.a.createElement("footer",null,"\u2014"," ",m.a.createElement("a",{href:"https://amzn.to/2YQ8xYM"},"Ted Greene in ",m.a.createElement("em",null,"Chord Chemistry"))))),test:function(e,t,a,n,r,i){var o=n.family,c=(n.name,n.degrees,n.alterations);return a===r&&o===i.family&&f.a.isEqual(c,i.alterations)}},{id:"Chord Chemistry 11.IIIa",description:m.a.createElement("span",null,m.a.createElement("blockquote",null,"Dominant chords with altered tones ... can be used effectively ... when the ",m.a.createElement("em",null,"next")," chord is ... one whose root is a 4th higher.",m.a.createElement("footer",null,"\u2014"," ",m.a.createElement("a",{href:"https://amzn.to/2YQ8xYM"},"Ted Greene in ",m.a.createElement("em",null,"Chord Chemistry"))))),test:function(e,t,a,n,r,i,o){var c=n.family,u=(n.name,n.degrees,n.alterations);return w[f.a.get(o,"root")]===(w[a]+5)%12&&"dominant"===c&&!f.a.chain(u).intersection(["b5","#5","b9","#9"]).isEmpty().value()}},{id:"Chord Chemistry 11.IIIb",description:m.a.createElement("span",null,m.a.createElement("blockquote",null,"Dominant chords with altered tones ... can be used effectively ... when the ",m.a.createElement("em",null,"next")," chord is ... one whose root is a 1/2 step lower.",m.a.createElement("footer",null,"\u2014"," ",m.a.createElement("a",{href:"https://amzn.to/2YQ8xYM"},"Ted Greene in ",m.a.createElement("em",null,"Chord Chemistry"))))),test:function(e,t,a,n,r,i,o){var c=n.family,u=(n.name,n.degrees,n.alterations);return w[f.a.get(o,"root")]+1===w[a]&&"dominant"===c&&!f.a.chain(u).intersection(["b5","#5","b9","#9"]).isEmpty().value()}},{id:"Chord Chemistry 11.IIIc",description:m.a.createElement("span",null,m.a.createElement("blockquote",null,"Dominant chords with altered tones ... can be used effectively ... when the ",m.a.createElement("em",null,"next")," chord is ... a minor type chord with the same root. lower.",m.a.createElement("footer",null,"\u2014"," ",m.a.createElement("a",{href:"https://amzn.to/2YQ8xYM"},"Ted Greene in ",m.a.createElement("em",null,"Chord Chemistry"))))),test:function(e,t,a,n,r,i,o){var c=n.family,u=(n.name,n.degrees,n.alterations);return w[f.a.get(o,"root")]===w[a]&&"dominant"===c&&!f.a.chain(u).intersection(["b5","#5","b9","#9"]).isEmpty().value()&&"minor"===f.a.get(o,"quality.family")}},{id:"Guitar Style Major Chords",description:m.a.createElement("span",null,m.a.createElement("blockquote",null,"[For major chords], substitute relative minor or secondary relative minor chords.",m.a.createElement("footer",null,"\u2014"," ",m.a.createElement("a",{href:"https://amzn.to/2YNsYcG"},"Joe Pass in ",m.a.createElement("em",null,"Guitar Style"))))),test:function(e,t,a,n,r,i,o){var c=n.family,u=(n.name,n.degrees,n.alterations),s=w[a]===(w[r]+4)%12,l=w[a]===(w[r]+9)%12;return(s||l)&&"major"===i.family&&"minor"===c&&f.a.isEmpty(u)}},{id:"Guitar Style Minor Chords",description:m.a.createElement("span",null,m.a.createElement("blockquote",null,"[For minor chords], substitute relative major chords.",m.a.createElement("footer",null,"\u2014"," ",m.a.createElement("a",{href:"https://amzn.to/2YNsYcG"},"Joe Pass in ",m.a.createElement("em",null,"Guitar Style"))))),test:function(e,t,a,n,r,i,o){var c=n.family,u=(n.name,n.degrees,n.alterations);return w[a]===(w[r]+3)%12&&"minor"===i.family&&"major"===c&&f.a.isEmpty(u)}},{id:"Guitar Style Seventh Chords",description:m.a.createElement("span",null,m.a.createElement("blockquote",null,"[For seventh chords], substitute dominant minor chords.",m.a.createElement("footer",null,"\u2014"," ",m.a.createElement("a",{href:"https://amzn.to/2YNsYcG"},"Joe Pass in ",m.a.createElement("em",null,"Guitar Style"))))),test:function(e,t,a,n,r,i,o){var c=n.family,u=(n.name,n.degrees,n.alterations);return w[a]===(w[r]+7)%12&&"dominant"===i.family&&"minor"===c&&f.a.isEmpty(u)}}];function E(){var e=Object(s.a)(["\n  cursor: pointer;\n"]);return E=function(){return e},e}function x(){var e=Object(s.a)(["\n  display: flex;\n  width: 100%;\n  align-items: flex-end;\n"]);return x=function(){return e},e}function q(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  width: auto;\n  background-color: #eee;\n  grid-column: 1 / span 6;\n  padding: 1rem;\n  align-items: flex-end;\n  margin-bottom: 1rem;\n"]);return q=function(){return e},e}f.a.keyBy(k,"id"),d.a.div(q()),d.a.div(x()),d.a.a(E()),a(108);var C=function(e,t){var a=f.a.size(t)>=f.a.size(e),n=a?[t,e]:[e,t],r=Object(u.a)(n,2),i=r[0],o=r[1];return f.a.chain(i).thru((function(e){return t=e,a=f.a.size(o),f.a.chain(f.a.size(t)-a+1).range().reduce((function(e,n){return e.push(f.a.chain(t).clone().drop(n).take(a).value()),e}),[]).value();var t,a})).map((function(n){return{sum:f.a.chain(n).zip(o).map((function(e){var t=Object(u.a)(e,2),a=t[0],n=t[1];return Math.abs(a-n)})).sum().value(),current:a?n:t,previous:a?e:n}})).minBy("sum").value()},M=function(e,t,a){return a[e]+t},z=function(e,t){if(f.a.isEmpty(e.notes))return function(){return 0};var a=f.a.chain(e.notes).map((function(e){var a=Object(u.a)(e,2),n=a[0],r=a[1];return M(n,r,t)})).sort().value();return function(n){if(f.a.isEmpty(e.notes))return 0;var r=f.a.chain(n).map((function(e){var a=Object(u.a)(e,2),n=a[0],r=a[1];return M(n,r,t)})).sort().value();return C(a,r).sum}},B={},F=function(e,t){B[e]=t},P=function(e){return B[e]},G={},R=function(e,t){G[e]=t},N=function(e){return G[e]};function D(){var e=Object(s.a)(["\n  width: 100%;\n  height: 100%;\n  cursor: pointer;\n"]);return D=function(){return e},e}var J=d.a.canvas(D()),A=function(e){var t=e.horizontal,a=void 0!==t&&t,n=e.frets,r=e.setFretHeight,s=e.setFretWidth,b=e.onClickFret,d=e.tuning,y=e.chord,p=e.previousChord,v=e.allowOpen,j=e.sharps,O=e.maxReach,g=e.capo,k=e.getVoicings,E=Object(l.useRef)(),x=Object(l.useState)(!1),q=Object(u.a)(x,2),C=q[0],M=(q[1],Object(l.useState)(void 0)),B=Object(u.a)(M,2),F=B[0],G=B[1];Object(l.useEffect)((function(){(function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(JSON.stringify({quality:y.quality,root:y.root,tuning:d,allowOpen:v,frets:n,maxReach:O,capo:g})),e.next=3,k({chord:y,tuning:d,allowOpen:v,frets:n,maxReach:O,capo:g});case 3:t=e.sent,G(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[g,y,d,v,n,O,k]);var R=f.a.chain(y.quality).get("quality").uniq().map((function(e){return(e+w[y.root])%12})).value(),N=function(e,t){var a=e&&e.includes("#")||j?["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"]:["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],n=f.a.findIndex(["C","D","E","F","G","A","B"],(function(t){return e&&t===e.substr(0,1)})),r=f.a.chain(["C","D","E","F","G","A","B"]).drop(n).concat(f.a.take(["C","D","E","F","G","A","B"],n)).value(),i=f.a.chain([0,2,4,5,7,9,11]).map((function(t){return(t+w[e])%12})).map((function(e,t){var n=r[t],i=a[e],o=Math.min(Math.abs(w[i]-w[n]),Math.abs(w[i]-w[n]+12));return n+f.a.chain(o).range().map((function(e){return o===Math.abs(w[i]-w[n])&&w[i]<w[n]?"b":"#"})).join("").value()})).value();return f.a.chain(t).get("degrees").map((function(t){var n=parseInt(f.a.replace(t,/#|b/,""))-1,r=f.a.replace(t,/[^#b]+/,""),o=i[n%f.a.size(i)];return a[(S(t)+w[e])%12]=f.a.replace("".concat(o).concat(r),/#b|b#/,""),t})).value(),a}(y.root,y.quality),D=function(e,t,a,n,r){if(!r)return(a?["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"]:["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"])[(n[e]+t)%12];var i=(n[e]+t)%12;return N[i]?N[i]:N[(i+1)%12]?(N[(i+1)%12]+"b").replace(/#b|b#/g,""):(N[(i-1+12)%12]+"#").replace(/#b|b#/g,"")},A=function(e){return window.getComputedStyle(e).getPropertyValue("width").slice(0,-2)},I=function(e){return window.getComputedStyle(e).getPropertyValue("height").slice(0,-2)},W=function(e,t){return(e*t-3)/n},T=function(e){return e/1.5},H=function(e,t,a){return[e*a/2,t*a/2]},Q=function(e,t,r,i){return a?[t-i*f.a.size(d)/2,e-r*n/2+i/2]:[t-r*n/2,e-i*(f.a.size(d)-1)/2]},U=f.a.chain(y).get("notes").filter((function(e){var t=Object(u.a)(e,2),a=t[0],n=t[1];return f.a.chain(y.quality).get("quality").map((function(e){return(e+w[y.root])%12})).includes(function(e,t,a){return(a[e]+t)%12}(a,n,d)).value()})).value(),V=f.a.filter(F,(function(e){return f.a.every(U,(function(t){return f.a.chain(e).map((function(e){return e.toString()})).includes(t.toString()).value()}))})),Y=f.a.chain(F).thru((function(e){return function(e,t){var a=f.a.chain(e).reduce((function(e,a,n){return f.a.forEach(a,(function(r){var i=Object(u.a)(r,2),o=i[0],c=i[1];e[[o,c]]||(e[[o,c]]=0),e[[o,c]]=t(e[[o,c]],{string:o,fret:c,voicing:a,i:n})})),e}),{}).value(),n=2*f.a.chain(a).values().max().value();return f.a.chain(a).mapValues((function(e){return e/n})).value()}(e,(function(e,t){var a=t.voicing;if(!f.a.isEmpty(f.a.get(p,"notes"))){var n=z(p,d)(a)||.1;return f.a.max([e||0,1/n])}return 1}))})).mapValues((function(e,t){var a=JSON.parse("[".concat(t,"]")),n=Object(u.a)(a,2),r=n[0],i=n[1];return f.a.chain(V).some((function(e){return f.a.chain(e).map((function(e){return e.toString()})).includes([r,i].toString()).value()})).value()&&(f.a.size(V)>1||f.a.size(U)<f.a.chain(V).first().size())?e:0})).value();Object(l.useEffect)((function(){var e=E.current,t=e.getContext("2d"),i=h(t),o=W(a?A(e):I(e),i),l=T(o),m=a?l/i*f.a.size(d):I(e),b=a?A(e):l/i*f.a.size(d),p=H(b,m,i),v=Object(u.a)(p,2),O=v[0],S=v[1],w=Q(O,S,o,l),k=Object(u.a)(w,2),x=k[0],q=k[1];e.width=b*i,e.height=m*i,e.style.width="".concat(b,"px"),e.style.height="".concat(m,"px"),t.lineWidth=3,t.lineCap="square",t.strokeStyle="#eee",t.fillStyle="#eee",t.textBaseline="middle",t.fillStyle="#FFF",t.fillRect(0,0,2*b,2*m),r(o),s(l);var M=function(e,t){return a?[t,e]:[e,t]},z=function(e){return a?f.a.size(d)-e-1:e};t.fillStyle="#eee";for(var B=1;B<n+1;B++)t.beginPath(),t.moveTo.apply(t,Object(c.a)(M(q,x+B*o))),t.lineTo.apply(t,Object(c.a)(M(q+l*(f.a.size(d)-1),x+B*o))),t.stroke(),f.a.includes([3,5,7,9,12,15,18],B)&&(t.beginPath(),t.arc.apply(t,Object(c.a)(M(q+2*l+l/2,x+B*o+o/2)).concat([l/4-3,0,2*Math.PI])),t.fill()),f.a.includes([1,13],B)&&(t.beginPath(),t.moveTo.apply(t,Object(c.a)(M(q,x+B*o+3))),t.lineTo.apply(t,Object(c.a)(M(q+l*(f.a.size(d)-1),x+B*o+3))),t.stroke());t.beginPath();for(var F=0;F<f.a.size(d);F++)t.moveTo.apply(t,Object(c.a)(M(q+F*l,x+o))),t.lineTo.apply(t,Object(c.a)(M(q+F*l,x+o*n)));if(t.stroke(),C)return t.font="bold ".concat(.4*l,"px -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif"),t.fillStyle="rgba(255,255,255,0.66)",t.beginPath(),t.rect(0,0,b*i,m*i),t.fill(),t.fillStyle="#666",t.textAlign="center",void t.fillText("Loading...",b*i/2,m*i/2);for(var P=0;P<n;P++)for(var G=0;G<f.a.size(d);G++)t.fillStyle="rgba(0,0,255,".concat(Y[[z(G),P]]?Math.max(.1,Y[[z(G),P]]):0,")"),t.beginPath(),t.rect.apply(t,Object(c.a)(M(q+(G-1)*l+l/2,x+P*o)).concat(Object(c.a)(M(l,o)))),t.fill();t.fillStyle="#666",t.strokeStyle="#666",t.lineWidth=4,t.textAlign="center",t.font="bold ".concat(.4*l,"px -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif");for(var N=f.a.chain(y.notes).reduce((function(e,t){return e[t]=!0,e}),{}).value(),J=0;J<n+1;J++)for(var U=0;U<f.a.size(d);U++)if(N[[z(U),J]])t.fillStyle="#666",t.beginPath(),t.arc.apply(t,Object(c.a)(M(q+U*l,x+J*o+o/2)).concat([l/2-3,0,2*Math.PI])),t.fill(),t.fillStyle="#FFF",t.fillText.apply(t,[D(z(U),J,j,d,y.quality)].concat(Object(c.a)(M(q+U*l,x+J*o+o/2))));else if(f.a.includes(R,(d[z(U)]+J)%12)){if(Y[[z(U),J]]){var V=Object(u.a)(t.getImageData.apply(t,Object(c.a)(M(q+U*l-6,x+J*o+o/2)).concat([1,1])).data,3),L=V[0],_=V[1],X=V[2];t.fillStyle="rgb(".concat(L,", ").concat(_,", ").concat(X,")"),t.beginPath(),t.arc.apply(t,Object(c.a)(M(q+U*l,x+J*o+o/2)).concat([l/4,0,2*Math.PI])),t.fill(),t.fillStyle="white"}else t.fillStyle="#FFF",t.beginPath(),t.arc.apply(t,Object(c.a)(M(q+U*l,x+J*o+o/2)).concat([l/4,0,2*Math.PI])),t.fill(),t.fillStyle="#999";t.fillText.apply(t,[D(z(U),J,j,d,y.quality)].concat(Object(c.a)(M(q+U*l,x+J*o+o/2))))}t.fillStyle="rgba(0,0,0,0.068)",t.beginPath(),t.rect.apply(t,Object(c.a)(M(0,x-1.5)).concat(Object(c.a)(M(b*i,x+g*o-1.5)))),t.fill()}));return m.a.createElement(J,{ref:E,onClick:function(e){var t=E.current,r=t.getContext("2d"),i=h(r),o=e.nativeEvent.offsetX*i,c=e.nativeEvent.offsetY*i,s=W(a?A(t):I(t),i),l=T(s),m=a?l/i*f.a.size(d):I(t),y=a?A(t):l/i*f.a.size(d),p=H(y,m,i),v=Object(u.a)(p,2),j=v[0],O=v[1],g=Q(j,O,s,l),S=Object(u.a)(g,2),w=S[0],k=S[1],x=a?Math.floor(o/s):Math.floor((c-w)/s),q=a?f.a.size(d)-Math.floor((c-w)/l)-1:Math.floor((o-k-l/2)/l)+1;f.a.isFunction(b)&&x>=0&&x<n&&q>=0&&q<f.a.size(d)&&b({string:q,fret:x},e)}})},I=a(38),W=a.n(I),T=(f.a.chain([{text:"Standard tuning - EADGBE",value:JSON.stringify([40,45,50,55,59,64])},{text:"Drop D tuning - DADGBE",value:JSON.stringify([38,45,50,55,59,64])},{text:"DADGAD tuning",value:JSON.stringify([38,45,50,55,60,62])},{text:"New standard tuning - CGDAEG",value:JSON.stringify([36,43,50,57,64,67])},{text:"Ukulele (High G) tuning - GBCD",value:JSON.stringify([67,60,64,69])},{text:"Ukulele (Low G) tuning - GBCD",value:JSON.stringify([55,60,64,69])}]).sortBy("text").map((function(e){return Object(n.a)({key:JSON.stringify(e)},e)})).value(),a(110),a(53)),H=m.a.createContext({height:0,width:0}),Q=function(e){var t=e.getVoicings,a=(e.getSubstitutions,e.hash),r=a.allowOpen,i=a.allowPartialQualities,o=a.sharps,s=a.tuning,b=a.chords,h=a.frets,d=a.maxReach,y=a.capo,p=(new URLSearchParams(window.location.search),Object(l.useState)(r)),v=Object(u.a)(p,2),j=v[0],O=(v[1],Object(l.useState)(i)),S=Object(u.a)(O,2),w=S[0],k=(S[1],Object(l.useState)(s)),E=Object(u.a)(k,2),x=E[0],q=(E[1],Object(l.useState)(!1)),C=Object(u.a)(q,2),M=(C[0],C[1],Object(l.useState)(d)),z=Object(u.a)(M,2),B=z[0],F=(z[1],Object(l.useState)(y)),P=Object(u.a)(F,2),G=P[0],R=(P[1],Object(T.a)()),N=Object(u.a)(R,2),D=N[0],J=N[1],I=Object(l.useState)(o),Q=Object(u.a)(I,2),U=Q[0],V=(Q[1],Object(l.useState)(0)),Y=Object(u.a)(V,2),L=Y[0],_=Y[1],X=Object(l.useState)(h),$=Object(u.a)(X,2),K=$[0],Z=($[1],Object(l.useState)(void 0)),ee=Object(u.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(l.useState)(void 0),re=Object(u.a)(ne,2),ie=re[0],oe=re[1],ce=Object(l.useState)(b),ue=Object(u.a)(ce,2),se=ue[0],le=ue[1],me=function(e){switch(e.key){case"ArrowRight":_(Math.min(L+1,f.a.size(se)-1));break;case"ArrowLeft":_(Math.max(L-1,0));break;case"+":se.splice(L+1,0,{key:Math.random(),quality:void 0,notes:[],voicings:[]}),le(Object(c.a)(se)),_(L+1);break;case"-":f.a.isEmpty(se[L].notes)?f.a.size(se)>1?(se.splice(L,1),_(Math.max(0,L-1)),le(Object(c.a)(se))):le([{key:Math.random(),root:null,quality:void 0,notes:[]}]):(se.splice(L,1,Object(n.a)(Object(n.a)({},se[L]),{},{notes:[]})),le(Object(c.a)(se)))}};return Object(l.useEffect)((function(){return document.addEventListener("keyup",me),function(){document.removeEventListener("keyup",me)}}),[L,se]),Object(l.useEffect)((function(){f.a.chain({v:"1.0.0",allowOpen:j,allowPartialQualities:w,tuning:x,maxReach:B,capo:G,windowWidth:D,sharps:U,frets:K,chords:se}).thru(JSON.stringify).thru((function(e){return W.a.deflate(e,{to:"string"})})).thru(btoa).value()}),[j,w,x,B,G,D,U,L,K,se]),m.a.createElement(H.Provider,{value:{height:40,width:20}},m.a.createElement("div",{style:{height:0,overflow:"hidden"}},m.a.createElement(A,Object.assign({key:JSON.stringify({windowWidth:D,windowHeight:J})},{horizontal:!0,getVoicings:t,frets:K,setFretHeight:ae,setFretWidth:oe,sharps:U,allowOpen:j,tuning:x,maxReach:B,capo:G,chord:se[L],previousChord:L>0?se[L-1]:void 0,onClickFret:function(e,t){var a=e.string,r=e.fret;f.a.chain(se[L].notes).map((function(e){return JSON.stringify(e)})).includes(JSON.stringify([a,r])).value()?(se.splice(L,1,Object(n.a)(Object(n.a)({},se[L]),{},{notes:f.a.chain(se[L].notes).reject((function(e){return JSON.stringify(e)===JSON.stringify([a,r])})).sortBy(f.a.identity).value()})),le(Object(c.a)(se))):f.a.chain(se[L].notes).map((function(e){var t=Object(u.a)(e,2),a=t[0];t[1];return a})).includes(a).value()?(se.splice(L,1,Object(n.a)(Object(n.a)({},se[L]),{},{notes:[].concat(Object(c.a)(f.a.chain(se[L].notes).reject((function(e){var t=Object(u.a)(e,2),n=t[0];t[1];return n===a})).sortBy(f.a.identity).value()),[[a,r]])})),le(Object(c.a)(se))):(se.splice(L,1,Object(n.a)(Object(n.a)({},se[L]),{},{notes:f.a.sortBy([].concat(Object(c.a)(se[L].notes),[[a,r]]),f.a.identity)})),le(Object(c.a)(se)))}}))),m.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},f.a.map([{key:Math.random(),root:"C",quality:{name:"maj7"},notes:[[1,10],[2,10],[3,9],[4,12]]},{key:Math.random(),root:"F",quality:{name:"maj7"},notes:[[1,8],[2,10],[3,9],[4,10]]},{key:Math.random(),root:"B",quality:{name:"m7b5"},notes:[[1,8],[2,9],[3,7],[4,10]]},{key:Math.random(),root:"E",quality:{name:"m7"},notes:[[1,7],[2,9],[3,7],[4,8]]},{key:Math.random(),root:"A",quality:{name:"m7"},notes:[[1,7],[2,7],[3,5],[4,8]]},{key:Math.random(),root:"D",quality:{name:"m7"},notes:[[1,5],[2,7],[3,5],[4,6]]},{key:Math.random(),root:"G",quality:{name:"7"},notes:[[1,5],[2,5],[3,4],[4,6]]},{key:Math.random(),root:"C",quality:{name:"maj7"},notes:[[1,3],[2,5],[3,4],[4,5]]}],(function(e,t){return m.a.createElement(g,Object.assign({key:e.key},{fretHeight:te,fretWidth:ie,chord:e,selected:L===t,onClick:function(){},sharps:U,tuning:x}))}))))},U=function(e,t,a,n,r){return function(e){return f.a.chain(f.a.product(f.a.range(t),f.a.range(n,r+1))).filter((function(t){var n=Object(u.a)(t,2),r=n[0],i=n[1],o=a[r]+i;return o===e||o%12===e})).value()}},V=function(e){return f.a.size(e)!==f.a.chain(e).map(f.a.first).uniq().size().value()},Y=function(e,t,a){return function(n){var r=f.a.reject(n,(function(e){var n=Object(u.a)(e,2);n[0];return n[1]===a&&t})),i=f.a.minBy(r,(function(e){var t=Object(u.a)(e,2);t[0];return t[1]})),o=Object(u.a)(i,2)[1],c=f.a.maxBy(r,(function(e){var t=Object(u.a)(e,2);t[0];return t[1]}));return Object(u.a)(c,2)[1]-o>e}},L=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:18,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[];if(f.a.isEmpty(e))return[];var c=f.a.size(t),s=f.a.map(o,(function(e){var a=Object(u.a)(e,2),n=a[0],r=a[1];return(t[n]+r)%12}));return f.a.chain(e).map((function(e){return f.a.includes(s,e)?[o[f.a.indexOf(s,e)]]:U(0,c,t,i,n)(e)})).thru((function(e){return f.a.product.apply(null,e)})).reject(V).reject(Y(r,a,i)).value()},_=m.a.createContext({height:0,width:0}),X=function(e){e.getVoicings,e.getSubstitutions;var t=e.hash,a=t.allowOpen,r=t.allowPartialQualities,i=t.sharps,o=t.tuning,s=t.chords,b=t.frets,h=t.maxReach,d=t.capo,y=(new URLSearchParams(window.location.search),Object(l.useState)(a)),p=Object(u.a)(y,2),v=p[0],j=(p[1],Object(l.useState)(r)),O=Object(u.a)(j,2),S=O[0],k=(O[1],Object(l.useState)(o)),E=Object(u.a)(k,2),x=E[0],q=(E[1],Object(l.useState)(!1)),C=Object(u.a)(q,2),M=(C[0],C[1],Object(l.useState)(h)),B=Object(u.a)(M,2),F=B[0],P=(B[1],Object(l.useState)(d)),G=Object(u.a)(P,2),R=G[0],N=(G[1],Object(T.a)()),D=Object(u.a)(N,2),J=D[0],I=D[1],H=Object(l.useState)(i),Q=Object(u.a)(H,2),U=Q[0],V=(Q[1],Object(l.useState)(0)),Y=Object(u.a)(V,2),X=Y[0],$=Y[1],K=Object(l.useState)(b),Z=Object(u.a)(K,2),ee=Z[0],te=(Z[1],Object(l.useState)(void 0)),ae=Object(u.a)(te,2),ne=ae[0],re=ae[1],ie=Object(l.useState)(void 0),oe=Object(u.a)(ie,2),ce=oe[0],ue=oe[1],se=Object(l.useState)(s),le=Object(u.a)(se,2),me=le[0],be=le[1],fe=function(e){switch(e.key){case"ArrowRight":$(Math.min(X+1,f.a.size(me)-1));break;case"ArrowLeft":$(Math.max(X-1,0));break;case"+":me.splice(X+1,0,{key:Math.random(),quality:void 0,notes:[],voicings:[]}),be(Object(c.a)(me)),$(X+1);break;case"-":f.a.isEmpty(me[X].notes)?f.a.size(me)>1?(me.splice(X,1),$(Math.max(0,X-1)),be(Object(c.a)(me))):be([{key:Math.random(),root:null,quality:void 0,notes:[]}]):(me.splice(X,1,Object(n.a)(Object(n.a)({},me[X]),{},{notes:[]})),be(Object(c.a)(me)))}};Object(l.useEffect)((function(){return document.addEventListener("keyup",fe),function(){document.removeEventListener("keyup",fe)}}),[X,me]);var he=[],de=f.a.chain(me).get(X).get("notes").value();return he=f.a.chain(de).map((function(e){var t=Object(u.a)(e,2),a=t[0],n=t[1];return(x[a]+n)%12})).sortBy(f.a.identity).isEqual([0,4,7,11]).value()?f.a.reduce([{root:"C",quality:{name:"maj7"},notes:f.a.map([0,4,7,11],(function(e){return(0+e)%12}))},{root:"F",quality:{name:"maj7"},notes:f.a.map([0,4,7,11],(function(e){return(5+e)%12}))},{root:"B",quality:{name:"m7b5"},notes:f.a.map([0,3,6,10],(function(e){return(11+e)%12}))},{root:"E",quality:{name:"m7"},notes:f.a.map([0,3,7,10],(function(e){return(4+e)%12}))},{root:"A",quality:{name:"m7"},notes:f.a.map([0,3,7,10],(function(e){return(9+e)%12}))},{root:"D",quality:{name:"m7"},notes:f.a.map([0,3,7,10],(function(e){return(2+e)%12}))},{root:"G",quality:{name:"7"},notes:f.a.map([0,4,7,10],(function(e){return(7+e)%12}))},{root:"C",quality:{name:"maj7"},notes:f.a.map([0,4,7,11],(function(e){return(0+e)%12}))}],(function(e,t,a){var r=Object(u.a)(e,2),i=r[0],o=r[1],s=f.a.chain(L(t.notes,x,!1,18,5,0,18,i)).map((function(e){return[f.a.chain(f.a.zip(f.a.map(i,f.a.first),f.a.map(e,f.a.first))).map((function(e){var t=Object(u.a)(e,2),a=t[0],n=t[1];return Math.abs(a-n)})).sum().value(),z({notes:i},x)(e)||.1,e]})).sortBy(f.a.first).sortBy((function(e){return Object(u.a)(e,2)[1]})).first().last().value();return[s,[].concat(Object(c.a)(o),[Object(n.a)(Object(n.a)({},t),{},{key:a,notes:s})])]}),[f.a.chain(me).get(X).get("notes").value(),[]])[1]:[{key:0,root:"C",quality:{name:"maj7"},notes:[]},{key:1,root:"F",quality:{name:"maj7"},notes:[]},{key:2,root:"B",quality:{name:"m7b5"},notes:[]},{key:3,root:"E",quality:{name:"m7"},notes:[]},{key:4,root:"A",quality:{name:"m7"},notes:[]},{key:5,root:"D",quality:{name:"m7"},notes:[]},{key:6,root:"G",quality:{name:"7"},notes:[]},{key:7,root:"C",quality:{name:"maj7"},notes:[]}],Object(l.useEffect)((function(){f.a.chain({v:"1.0.0",allowOpen:v,allowPartialQualities:S,tuning:x,maxReach:F,capo:R,windowWidth:J,sharps:U,frets:ee,chords:me}).thru(JSON.stringify).thru((function(e){return W.a.deflate(e,{to:"string"})})).thru(btoa).value()}),[v,S,x,F,R,J,U,X,ee,me]),m.a.createElement(_.Provider,{value:{height:40,width:20}},m.a.createElement("div",{style:{}},m.a.createElement(A,Object.assign({key:JSON.stringify({windowWidth:J,windowHeight:I})},{horizontal:!0,getVoicings:function(e){var t=e.chord,a=e.tuning,n=e.allowOpen,r=e.frets,i=e.maxReach,o=e.capo;return f.a.chain(t.quality).get("quality").map((function(e){return(e+w[t.root])%12})).thru((function(e){return L(e,a,n,r,i,o)})).uniqWith(f.a.isEqual).value()},frets:ee,setFretHeight:re,setFretWidth:ue,sharps:U,allowOpen:v,tuning:x,maxReach:F,capo:R,chord:me[X],previousChord:X>0?me[X-1]:void 0,onClickFret:function(e,t){var a=e.string,r=e.fret;f.a.chain(me[X].notes).map((function(e){return JSON.stringify(e)})).includes(JSON.stringify([a,r])).value()?(me.splice(X,1,Object(n.a)(Object(n.a)({},me[X]),{},{notes:f.a.chain(me[X].notes).reject((function(e){return JSON.stringify(e)===JSON.stringify([a,r])})).sortBy(f.a.identity).value()})),be(Object(c.a)(me))):f.a.chain(me[X].notes).map((function(e){var t=Object(u.a)(e,2),a=t[0];t[1];return a})).includes(a).value()?(me.splice(X,1,Object(n.a)(Object(n.a)({},me[X]),{},{notes:[].concat(Object(c.a)(f.a.chain(me[X].notes).reject((function(e){var t=Object(u.a)(e,2),n=t[0];t[1];return n===a})).sortBy(f.a.identity).value()),[[a,r]])})),be(Object(c.a)(me))):(me.splice(X,1,Object(n.a)(Object(n.a)({},me[X]),{},{notes:f.a.sortBy([].concat(Object(c.a)(me[X].notes),[[a,r]]),f.a.identity)})),be(Object(c.a)(me)))}}))),m.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},f.a.map(he,(function(e,t){return m.a.createElement(g,Object.assign({key:e.key},{fretHeight:ne,fretWidth:ce,chord:e,selected:X===t,onClick:function(){},sharps:U,tuning:x}))}))))},$=m.a.createContext({height:0,width:0}),K=function(e){e.getVoicings,e.getSubstitutions;var t=e.hash,a=t.allowOpen,r=t.allowPartialQualities,i=t.sharps,o=t.tuning,s=t.chords,b=t.frets,h=t.maxReach,d=t.capo,y=(new URLSearchParams(window.location.search),Object(l.useState)(a)),p=Object(u.a)(y,2),v=p[0],j=(p[1],Object(l.useState)(r)),O=Object(u.a)(j,2),S=O[0],k=(O[1],Object(l.useState)(o)),E=Object(u.a)(k,2),x=E[0],q=(E[1],Object(l.useState)(!1)),C=Object(u.a)(q,2),M=(C[0],C[1],Object(l.useState)(h)),B=Object(u.a)(M,2),F=B[0],P=(B[1],Object(l.useState)(d)),G=Object(u.a)(P,2),R=G[0],N=(G[1],Object(T.a)()),D=Object(u.a)(N,2),J=D[0],I=D[1],H=Object(l.useState)(i),Q=Object(u.a)(H,2),U=Q[0],V=(Q[1],Object(l.useState)(0)),Y=Object(u.a)(V,2),_=Y[0],X=Y[1],K=Object(l.useState)(b),Z=Object(u.a)(K,2),ee=Z[0],te=(Z[1],Object(l.useState)(void 0)),ae=Object(u.a)(te,2),ne=ae[0],re=ae[1],ie=Object(l.useState)(void 0),oe=Object(u.a)(ie,2),ce=oe[0],ue=oe[1],se=Object(l.useState)(s),le=Object(u.a)(se,2),me=le[0],be=le[1],fe=function(e){switch(e.key){case"ArrowRight":X(Math.min(_+1,f.a.size(me)-1));break;case"ArrowLeft":X(Math.max(_-1,0));break;case"+":me.splice(_+1,0,{key:Math.random(),quality:void 0,notes:[],voicings:[]}),be(Object(c.a)(me)),X(_+1);break;case"-":f.a.isEmpty(me[_].notes)?f.a.size(me)>1?(me.splice(_,1),X(Math.max(0,_-1)),be(Object(c.a)(me))):be([{key:Math.random(),root:null,quality:void 0,notes:[]}]):(me.splice(_,1,Object(n.a)(Object(n.a)({},me[_]),{},{notes:[]})),be(Object(c.a)(me)))}};Object(l.useEffect)((function(){return document.addEventListener("keyup",fe),function(){document.removeEventListener("keyup",fe)}}),[_,me]);var he=[],de=f.a.chain(me).get(_).get("notes").value();return he=f.a.chain(de).map((function(e){var t=Object(u.a)(e,2),a=t[0],n=t[1];return(x[a]+n)%12})).sortBy(f.a.identity).isEqual([0,4,7]).value()?f.a.reduce([{root:"C",quality:{name:""},notes:f.a.map([0,4,7],(function(e){return(0+e)%12}))},{root:"F",quality:{name:""},notes:f.a.map([0,4,7],(function(e){return(5+e)%12}))},{root:"B",quality:{name:"dim"},notes:f.a.map([0,3,6],(function(e){return(11+e)%12}))},{root:"E",quality:{name:"m"},notes:f.a.map([0,3,7],(function(e){return(4+e)%12}))},{root:"A",quality:{name:"m"},notes:f.a.map([0,3,7],(function(e){return(9+e)%12}))},{root:"D",quality:{name:"m"},notes:f.a.map([0,3,7],(function(e){return(2+e)%12}))},{root:"G",quality:{name:""},notes:f.a.map([0,4,7],(function(e){return(7+e)%12}))},{root:"C",quality:{name:""},notes:f.a.map([0,4,7],(function(e){return(0+e)%12}))}],(function(e,t,a){var r=Object(u.a)(e,2),i=r[0],o=r[1],s=f.a.chain(L(t.notes,x,!1,18,5,0,18,i)).map((function(e){return[f.a.chain(f.a.zip(f.a.map(i,f.a.first),f.a.map(e,f.a.first))).map((function(e){var t=Object(u.a)(e,2),a=t[0],n=t[1];return Math.abs(a-n)})).sum().value(),z({notes:i},x)(e)||.1,e]})).sortBy(f.a.first).sortBy((function(e){return Object(u.a)(e,2)[1]})).first().last().value();return[s,[].concat(Object(c.a)(o),[Object(n.a)(Object(n.a)({},t),{},{key:a,notes:s})])]}),[f.a.chain(me).get(_).get("notes").value(),[]])[1]:[{key:0,root:"C",quality:{name:""},notes:[]},{key:1,root:"F",quality:{name:""},notes:[]},{key:2,root:"B",quality:{name:"dim"},notes:[]},{key:3,root:"E",quality:{name:"m"},notes:[]},{key:4,root:"A",quality:{name:"m"},notes:[]},{key:5,root:"D",quality:{name:"m"},notes:[]},{key:6,root:"G",quality:{name:""},notes:[]},{key:7,root:"C",quality:{name:""},notes:[]}],Object(l.useEffect)((function(){f.a.chain({v:"1.0.0",allowOpen:v,allowPartialQualities:S,tuning:x,maxReach:F,capo:R,windowWidth:J,sharps:U,frets:ee,chords:me}).thru(JSON.stringify).thru((function(e){return W.a.deflate(e,{to:"string"})})).thru(btoa).value()}),[v,S,x,F,R,J,U,_,ee,me]),m.a.createElement($.Provider,{value:{height:40,width:20}},m.a.createElement("div",{style:{}},m.a.createElement(A,Object.assign({key:JSON.stringify({windowWidth:J,windowHeight:I})},{horizontal:!0,getVoicings:function(e){var t=e.chord,a=e.tuning,n=e.allowOpen,r=e.frets,i=e.maxReach,o=e.capo;return f.a.chain(t.quality).get("quality").map((function(e){return(e+w[t.root])%12})).thru((function(e){return L(e,a,n,r,i,o)})).uniqWith(f.a.isEqual).value()},frets:ee,setFretHeight:re,setFretWidth:ue,sharps:U,allowOpen:v,tuning:x,maxReach:F,capo:R,chord:me[_],previousChord:_>0?me[_-1]:void 0,onClickFret:function(e,t){var a=e.string,r=e.fret;f.a.chain(me[_].notes).map((function(e){return JSON.stringify(e)})).includes(JSON.stringify([a,r])).value()?(me.splice(_,1,Object(n.a)(Object(n.a)({},me[_]),{},{notes:f.a.chain(me[_].notes).reject((function(e){return JSON.stringify(e)===JSON.stringify([a,r])})).sortBy(f.a.identity).value()})),be(Object(c.a)(me))):f.a.chain(me[_].notes).map((function(e){var t=Object(u.a)(e,2),a=t[0];t[1];return a})).includes(a).value()?(me.splice(_,1,Object(n.a)(Object(n.a)({},me[_]),{},{notes:[].concat(Object(c.a)(f.a.chain(me[_].notes).reject((function(e){var t=Object(u.a)(e,2),n=t[0];t[1];return n===a})).sortBy(f.a.identity).value()),[[a,r]])})),be(Object(c.a)(me))):(me.splice(_,1,Object(n.a)(Object(n.a)({},me[_]),{},{notes:f.a.sortBy([].concat(Object(c.a)(me[_].notes),[[a,r]]),f.a.identity)})),be(Object(c.a)(me)))}}))),m.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},f.a.map(he,(function(e,t){return m.a.createElement(g,Object.assign({key:e.key},{fretHeight:ne,fretWidth:ce,chord:e,selected:_===t,onClick:function(){},sharps:U,tuning:x}))}))))},Z=a(29),ee=a.n(Z),te=a(209),ae=a.n(te),ne=a(210),re=a.n(ne),ie=(a(390),f.a.keyBy(k,"id")),oe=window.location.hash.slice(1),ce=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,n,r,o,c,u,s,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.chord,n=t.tuning,r=t.allowOpen,o=t.frets,c=t.maxReach,u=t.capo,s=JSON.stringify({quality:a.quality,root:a.root,tuning:n,allowOpen:r,frets:o,maxReach:c,capo:u}),!P(s)){e.next=5;break}return console.log("Found cached voicings."),e.abrupt("return",P(s));case 5:return console.time("Time to generate voicings"),e.next=8,re()().workerGetVoicings({quality:a.quality,root:a.root,tuning:n,allowOpen:r,frets:o,maxReach:c,capo:u});case 8:return l=e.sent,F(s,l),console.timeEnd("Time to generate voicings"),e.abrupt("return",l);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,r,o,c,u,s,l,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.chord,r=t.tuning,o=t.allowPartialQualities,c=t.sharps,u=t.previousChord,s=t.nextChord,l=JSON.stringify({chord:a,tuning:r,allowPartialQualities:o,sharps:c,previousChord:u,nextChord:s}),!N(l)){e.next=5;break}return console.log("Found cached substitutions."),e.abrupt("return",N(l));case 5:return console.time("Time to generate substitutions"),e.t0=f.a,e.next=9,ae()().workerGetSubstitutions({chord:a,tuning:r,allowPartialQualities:o,sharps:c,previousChord:u,nextChord:s});case 9:return e.t1=e.sent,m=e.t0.chain.call(e.t0,e.t1).map((function(e){return Object(n.a)(Object(n.a)({},e),{},{substitutions:f.a.map(e.substitutions,(function(e){return ie[e]}))})})).value(),R(l,m),console.timeEnd("Time to generate substitutions"),e.abrupt("return",m);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();ee.a.render(m.a.createElement(Q,{hash:function(e){var t={sharps:!1,allowPartialQualities:!0,allowOpen:!1,tuning:[40,45,50,55,59,64],frets:18,maxReach:5,capo:0,chords:[{key:Math.random(),root:"C",quality:{alterations:[],degrees:["1","3","5","7"],family:"major",formula:"1 3 5 7",missing:[],name:"maj7",parent:["1","3","5","7"],quality:[0,4,7,11],value:"cmaj7"},notes:[]}]};try{var a=f.a.isEmpty(e)?t:JSON.parse(W.a.inflate(atob(e),{to:"string"}));return f.a.isArray(a)?f.a.extend(t,{chords:a}):a}catch(n){return console.error("Error parsing hash.",n),t}}(oe),getVoicings:ce,getSubstitutions:ue}),document.getElementById("root1")),ee.a.render(m.a.createElement(X,{hash:{sharps:!1,allowPartialQualities:!0,allowOpen:!1,tuning:[40,45,50,55,59,64],frets:18,maxReach:5,capo:0,chords:[{key:Math.random(),root:"C",quality:{alterations:[],degrees:["1","3","5","7"],family:"major",formula:"1 3 5 7",missing:[],name:"maj7",parent:["1","3","5","7"],quality:[0,4,7,11],value:"cmaj7"},notes:[]}]},getVoicings:ce,getSubstitutions:ue}),document.getElementById("root2")),ee.a.render(m.a.createElement(K,{hash:{sharps:!1,allowPartialQualities:!0,allowOpen:!1,tuning:[40,45,50,55,59,64],frets:18,maxReach:5,capo:0,chords:[{key:Math.random(),root:"C",quality:{alterations:[],degrees:["1","3","5"],family:"major",formula:"1 3 5",missing:[],name:"maj",parent:["1","3","5"],quality:[0,4,7],value:"cmaj"},notes:[]}]},getVoicings:ce,getSubstitutions:ue}),document.getElementById("root3")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[219,1,2]]]);
//# sourceMappingURL=main.ade6f9ad.chunk.js.map