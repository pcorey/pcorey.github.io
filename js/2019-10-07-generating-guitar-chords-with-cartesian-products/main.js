(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,n){e.exports=n(36)},35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n(9),r=(n(21),n(2)),o=n.n(r),u=n(0),c=n.n(u),l=(n(17),n(7),n(39),function(e,t){return[40,45,50,55,59,64][5-e]+t}),s=function(e){if(c.a.isEmpty(e.notes))return function(){return 0};var t=c.a.chain(e.notes).map(function(t){var n=Object(a.a)(t,2),i=n[0],r=n[1];if(!e.labels[[i,r]])return l(5-i,r)}).reject(c.a.isUndefined).sort().value();return function(n){if(c.a.isEmpty(e.notes))return 0;var i=c.a.chain(n).map(function(e){var t=Object(a.a)(e,2),n=t[0],i=t[1];return l(5-n,i)}).sort().value(),r=c.a.size(i)>=c.a.size(t)?[i,t]:[t,i],o=Object(a.a)(r,2),u=o[0],s=o[1];return c.a.chain(u).thru(function(e){return t=e,n=c.a.size(s),c.a.chain(c.a.size(t)-n+1).range().reduce(function(e,a){return e.push(c.a.chain(t).clone().drop(a).take(n).value()),e},[]).value();var t,n}).map(function(e){return c.a.chain(e).zip(s).map(function(e){var t=Object(a.a)(e,2),n=t[0],i=t[1];return Math.abs(n-i)}).sum().value()}).min().value()}},f=n(8),v=function(e,t,n){return function(i){return c.a.chain(c.a.product(c.a.range(t),c.a.range(e))).filter(function(e,t){return function(n){var i=Object(a.a)(n,2),r=i[0],o=i[1];return(t[r]+o)%12===e}}(i,n)).value()}},h=function(e){return c.a.size(e)!==c.a.chain(e).map(c.a.first).uniq().size().value()},g=function(e){return function(t){var n=c.a.minBy(t,function(e){var t=Object(a.a)(e,2);t[0];return t[1]}),i=Object(a.a)(n,2)[1],r=c.a.maxBy(t,function(e){var t=Object(a.a)(e,2);t[0];return t[1]});return Object(a.a)(r,2)[1]-i>e}};console.log(v(18,6,[40,45,50,55,59,64])(0));var m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[40,45,50,55,59,64],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,i=c.a.size(t);return c.a.chain(e).map(v(n,i,t)).thru(function(e){return c.a.product.apply(c.a,Object(f.a)(e))}).reject(h).reject(g(a)).value()},d=n(4),p=n.n(d);n(35),c.a.chain([{text:"Standard - EADGBE",value:JSON.stringify([40,45,50,55,59,64])},{text:"Drop D - DADGBE",value:JSON.stringify([38,45,50,55,59,64])},{text:"DADGAD",value:JSON.stringify([38,45,50,55,60,62])},{text:"Ukulele (High G) - GBCD",value:JSON.stringify([67,60,64,69])},{text:"Ukulele (Low G) - GBCD",value:JSON.stringify([55,60,64,69])}]).sortBy("text").map(function(e){return Object(i.a)({key:JSON.stringify(e)},e)}).value(),c.a.chain([{text:"7",value:JSON.stringify([0,4,7,10])},{text:"m7",value:JSON.stringify([0,3,7,10])},{text:"mM7",value:JSON.stringify([0,3,7,11])},{text:"m7b5",value:JSON.stringify([0,3,6,10])},{text:"maj7",value:JSON.stringify([0,4,7,11])},{text:"6",value:JSON.stringify([0,4,7,9])},{text:"major",value:JSON.stringify([0,4,7])},{text:"minor",value:JSON.stringify([0,3,7])},{text:"dim",value:JSON.stringify([0,3,6])},{text:"aug",value:JSON.stringify([0,5,7])}]).sortBy("text").map(function(e){return Object(i.a)({key:JSON.stringify(e)},e)}).value();function y(e){var t=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/t}var b=function(e,t,n){return(n[c.a.size(n)-1-e]+t)%12},x=o.a.memo(function(e){var t=e.chord,n=(e.onChangeQualities,e.onChangeRoot,e.onClickFret),i=void 0===n?function(){}:n,u=(e.onClickAdd,e.onClickRemove,e.previousChord),l=e.sharps,f=e.tuning,v=Object(r.useRef)(),h=c.a.chain(t).get("notes").filter(function(e){var n=Object(a.a)(e,2),i=n[0],r=n[1];return c.a.chain(t.qualities).map(function(e){return c.a.map(e,function(e){return(e+t.root)%12})}).flatten().includes(b(c.a.size(f)-1-i,r,f)).value()}).value(),g=function(e,t){var n=v.current,a=y(n.getContext("2d")),i=getComputedStyle(n).getPropertyValue("width").slice(0,-2);return{x:(t+1)*(i*a/19),y:(e+1)*(.2*i*a/7)}},m=c.a.filter(t.voicings,function(e){return c.a.every(h,function(t){return c.a.chain(e).map(function(e){return e.toString()}).includes(t.toString()).value()})}),d=c.a.chain(t.voicings).thru(function(e){return function(e,t){var n=c.a.chain(e).reduce(function(e,n,i){return c.a.forEach(n,function(r){var o=Object(a.a)(r,2),u=o[0],c=o[1];e[[u,c]]||(e[[u,c]]=0),e[[u,c]]=t(e[[u,c]],{string:u,fret:c,voicing:n,i:i})}),e},{}).value(),i=2*c.a.chain(n).values().max().value();return c.a.chain(n).mapValues(function(e){return e/i}).value()}(e,function(e,t){t.i;var n=t.voicing;if(!c.a.isEmpty(c.a.get(u,"notes"))){var a=s(u)(n)||.1;return c.a.max([e||0,1/a])}return(e||0)+1})}).mapValues(function(e,t){var n=JSON.parse("[".concat(t,"]")),i=Object(a.a)(n,2),r=i[0],o=i[1];return c.a.chain(m).some(function(e){return c.a.chain(e).map(function(e){return e.toString()}).includes([r,o].toString()).value()}).value()&&(c.a.size(m)>1||c.a.size(h)<c.a.chain(m).first().size())?e:0}).value(),p=function(){var e=v.current,t=y(e.getContext("2d"));return getComputedStyle(e).getPropertyValue("width").slice(0,-2)*t/19},x=function(){var e=v.current,t=y(e.getContext("2d"));return.2*getComputedStyle(e).getPropertyValue("width").slice(0,-2)*t/7};Object(r.useEffect)(function(){var e=v.current,n=e.getContext("2d"),i=y(n),r=getComputedStyle(e).getPropertyValue("width").slice(0,-2),o=.2*r;e.width=r*i,e.height=o*i,e.style.width="".concat(r,"px"),e.style.height="".concat(o,"px"),n.lineWidth=4,n.lineCap="square",n.strokeStyle="#eee",c.a.chain(c.a.size(f)).range().map(function(e){var t=g(e,0),a=t.x,i=t.y,r=g(e,17),o=r.x,u=r.y;n.beginPath(),n.moveTo(a,i),n.lineTo(o,u),n.stroke()}).value(),c.a.chain(18).range().map(function(e){var t=g(0,e),a=t.x,i=t.y,r=g(c.a.size(f)-1,e),o=r.x,u=r.y;n.beginPath(),n.moveTo(a,i),n.lineTo(o,u),n.stroke()}).value(),n.fillStyle="#eee",c.a.chain([3,5,7,9,12,15]).map(function(e){var t=12===e,a=g(Math.floor((c.a.size(f)-1)/2),e-1),i=a.x,r=a.y;n.beginPath(),t?(n.arc(i+p()/2,r+x()/2-10,8,0,2*Math.PI,!0),n.arc(i+p()/2,r+x()/2+10,8,0,2*Math.PI,!0)):n.arc(i+p()/2,r+x()/2,8,0,2*Math.PI,!0),n.fill()}).value(),c.a.chain(d).map(function(e,t){var i=JSON.parse("[".concat(t,"]")),r=Object(a.a)(i,2),o=r[0],u=r[1];o=c.a.size(f)-1-o;var l=g(o,u),s=l.x,v=l.y;n.fillStyle="rgba(255,0,88,".concat(e,")"),n.beginPath(),n.rect(s-p()/2,v-x()/2,p(),x()),n.fill()}).value();var u=function(e,t){var a=g(e,t),i=a.x,r=a.y,o=x()/2*.75;n.fillStyle="#333",n.beginPath(),n.arc(i,r,o,0,2*Math.PI,!0),n.fill(),n.fillStyle="#FFF",n.textAlign="center",n.textBaseline="middle",n.font="bold 18px sans-serif",n.fillText(function(e,t,n,a){return(n?["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"]:["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"])[b(e,t,a)]}(e,t,l,f),i,r)};c.a.chain(t).get("notes").map(function(e){var i=Object(a.a)(e,2),r=i[0],o=i[1];switch(r=c.a.size(f)-1-r,t.labels[[c.a.size(f)-1-r,o]]){case 1:!function(e,t){var a=g(e,t),i=a.x,r=a.y;n.strokeStyle="#333",n.beginPath(),n.arc(i,r,x()/2*.75,0,2*Math.PI,!0),n.stroke()}(r,o);break;case 2:!function(e,t){var a=g(e,t),i=a.x,r=a.y,o=x()/2*.5;n.strokeStyle="#333",n.beginPath(),n.moveTo(i-o,r+o),n.lineTo(i+o,r-o),n.stroke(),n.beginPath(),n.moveTo(i-o,r-o),n.lineTo(i+o,r+o),n.stroke()}(r,o);break;case 3:!function(e,t){var a=g(e,t),i=a.x,r=a.y,o=x()/2*.66;n.strokeStyle="#333",n.beginPath(),n.rect(i-o,r-o,2*o,2*o),n.stroke()}(r,o);break;case 4:!function(e,t){var a=g(e,t),i=a.x,r=a.y,o=x()/2*.5*1.41;n.strokeStyle="#333",n.beginPath(),n.moveTo(i,r-o+0),n.lineTo(i+o,r+o+0),n.moveTo(i,r-o+0),n.lineTo(i-o,r+o+0),n.moveTo(i-o,r+o+0),n.lineTo(i+o,r+o+0),n.stroke()}(r,o);break;default:u(r,o)}}).value()});return o.a.createElement("div",{className:"fretboard"},o.a.createElement("canvas",{ref:v,onClick:function(e){var t=y(v.current.getContext("2d")),n=e.nativeEvent.offsetX*t,a=e.nativeEvent.offsetY*t,r=Math.floor((n-p()/2)/p()),o=c.a.size(f)-1-Math.floor((a-x()/2)/x());r>=0&&r<18&&o>=0&&o<c.a.size(f)&&i({string:o,fret:r},e)}}))},c.a.isEqual),S=function(e){var t=e.chords,n=e.setAndCacheChords,a=e.sharps,i=e.tuning;return o.a.createElement("div",null,c.a.map(t,function(e,r){return o.a.createElement("div",{key:e.key,style:{margin:"4em 0"}},p.a.render(o.a.createElement(x,{tuning:i,sharps:a,chord:e,previousChord:0==r?void 0:t[r-1],onClickFret:function(a,i){var o=a.string,u=a.fret;e=c.a.cloneDeep(e),i.shiftKey?(delete e.labels[[o,u]],c.a.remove(e.notes,function(e){return c.a.isEqual(e,[o,u])})):(c.a.isUndefined(e.labels[[o,u]])&&(e.labels[[o,u]]=-1,e.notes.push([o,u])),e.labels[[o,u]]++,e.labels[[o,u]]>4&&(delete e.labels[[o,u]],c.a.remove(e.notes,function(e){return c.a.isEqual(e,[o,u])}))),t[r]=e,n(c.a.map(t,c.a.identity))},onChangeRoot:function(a,o){var u=o.value;(e=c.a.cloneDeep(e)).root=u,e.notes=[],e.labels={},e.voicings=c.a.chain(e.qualities).map(function(t){return c.a.map(t,function(t){return(t+e.root)%12})}).map(function(e){return m(e,i)}).flatten().uniqWith(c.a.isEqual).value(),t[r]=e,n(c.a.map(t,c.a.identity))},onChangeQualities:function(a,o){var u=o.value;(e=c.a.cloneDeep(e)).qualities=c.a.map(u,JSON.parse),e.notes=[],e.labels={},e.voicings=c.a.chain(e.qualities).map(function(t){return c.a.map(t,function(t){return(t+e.root)%12})}).map(function(e){return m(e,i)}).flatten().uniqWith(c.a.isEqual).value(),t[r]=e,n(c.a.map(t,c.a.identity))},onClickAdd:function(){n(c.a.flatten([c.a.take(t,r+1),{key:Math.random(),qualities:[],notes:[],labels:{},voicings:[]},c.a.drop(t,r+1)]))},onClickRemove:function(){c.a.size(t)>1&&(c.a.pullAt(t,r),n(c.a.map(t,c.a.identity)))}}),document.getElementById(["all"][r])))}))},O=function(e){var t={sharps:!1,tuning:[40,45,50,55,59,64],chords:[{key:Math.random(),root:0,qualities:[[0,4,7]],voicings:[],notes:[],labels:{}}]};return t};p.a.render(o.a.createElement(x,{chord:{notes:[[0,8],[1,3],[1,15],[2,10],[3,5],[3,17],[4,1],[4,13],[5,8]],labels:[]},sharps:!0,tuning:[40,45,50,55,59,64]}),document.getElementById("cs")),p.a.render(o.a.createElement(x,{chord:{notes:[[1,3],[1,7],[2,5]],labels:[]},sharps:!0,tuning:[40,45,50,55,59,64]}),document.getElementById("double")),p.a.render(o.a.createElement(x,{chord:{notes:[[1,3],[2,2],[3,12]],labels:[]},sharps:!0,tuning:[40,45,50,55,59,64]}),document.getElementById("stretch")),p.a.render(o.a.createElement(function(){new URLSearchParams(window.location.search);var e=window.location.hash.slice(1),t=O(e),n=t.sharps,i=t.tuning,u=t.chords,l=Object(r.useState)(n),s=Object(a.a)(l,2),f=s[0],v=(s[1],Object(r.useState)(i)),h=Object(a.a)(v,2),g=h[0],d=(h[1],Object(r.useState)(u)),p=Object(a.a)(d,2),y=p[0],b=p[1];return c.a.map(y,function(e){e.voicings=c.a.chain(e.qualities).map(function(t){return c.a.map(t,function(t){return(t+e.root)%12})}).map(function(e){return m(e,g)}).flatten().uniqWith(c.a.isEqual).value()}),o.a.createElement(S,{chords:y,sharps:f,tuning:g,setAndCacheChords:function(e){b(e)}})},null),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.a6053a09.chunk.js.map